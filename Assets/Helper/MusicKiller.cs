using System;
using System.Collections.Generic;
using System.Linq;
using Microsoft.Xna.Framework;
using ReLogic.Utilities;
using WizenkleBoss.Assets.Config;
using Terraria;
using Terraria.Audio;
using Terraria.ModLoader;
using Terraria.ID;

namespace WizenkleBoss.Assets.Helper
{
    [Autoload(Side = ModSide.Client)]
    public class MusicKiller : ModSystem
    {
        public static float MuffleFactor
        {
            get;
            set;
        } = 1f;
        public override void PostUpdateEverything()
        {
            MuffleFactor = MathHelper.Clamp(MuffleFactor + 0.03f, 0f, 1f);

            if (Main.musicFade[Main.curMusic] != MuffleFactor && MuffleFactor < 1)
                Main.musicFade[Main.curMusic] = MuffleFactor;


                //                                                 ..............:::::::...............               
                //                                                .......-*##################*=:.......               
                //                                              .....-####***************#########+:...               
                //                                            ....:###***++++++++++++++*******######%+:.....          
                //                                            ..=##***+++========+++++++*******#########=...          
                // ........... ..                        .....=###**+++==========+++++********#**#########+......     
                //....................                   ....+##**+++++========++++++********#*=--::::--=*##-....     
                //....................                   ..:*#***++++++=====+++++++*******#+-:.:::::::-:::-=**:..     
                //..............::..............     .....:******+++++++++++++++*********+::::::::::::--::----+=......
                //..................:::.........     ....:****+***++++++++++++**********=::.::::::=*######*+-:--=.....
                //.::................::.:::::...     ...:*************+++**************=:.::::::=**********#**-:-=.=+.
                //.==-...............:::::::::..........+*****************************=:::::::-***************#+--###.
                //..++-:.............::::::::::::::....-******************************:::::::-******************+-+#*.
                //...-++=:::::::::::::::::::::::::::::.-+****************************-:::::::********************+-*=.
                //.....:++=--:::::::::::::::::::::::::::.:-**************************:::::::=*********************-=-.
                //........:=+==------------:----:::::::::::::+**********************+.::::::*********************#+-+.
                //          ..-++====--------------::::::::::::*********************-::::::-*********************#*-*.
                //          .....:-+++=========-------::::::::.:+*******************-:.::::-*********************#*-*.
                //          ..........-++++========------:::::::=*******************-::::::-***********************-*.
                //                    .....-=++++======--------:+*******************=:::::::*********************#+-*.
                //                    ...........:-=++++++++==+*********************+.::::::+#********************=-*.
                //          ..................................:+*********************:::.:::-*#*****************#*-==.
                //          .................................:::+********************=::::::-=*########*******#**-:*..
                //          ..............................:::---**********************-::::::-=*#########*****#+--+=..
                //     .................................:::---=***********************+::::::-:=*#########****=-:=+...
                //     ...............................:::--=-+#*********************#*#+::::::---=*####**##*=:-:=*....
                //     ..............................::--===##*********************#####+:::::-:---:-===--::---+*.....
                //.................................::--===::###****#*****#***#***########*=:::---------------=*+...   
                //...............................::-====:....+%####***********#############*=::--:---------=##-.... ..
                //...::......................::::-====:.......:##########*****################*=------==*###+......   
                //....-:.......:::::::::::::---==+=-.... .......-##%%#####################################+......     
                //....:=-:....:::::::::----=====-..............-===*%%%############################%##%#=........     
                //......=+=----:----======++-:..............+#%##*===+#%%%%%%#%#######%#%%%#%%%%###%*-....... ...     
                //   .....:=+++++++++++=-:......     .....*#*#*####+===+#######%##%%%%*--::+%#%%*=:........           
                //     .........................     ....*#*****#############%##+*###*-:::::-:.........               
                //                                   ...:%#******#############%%-....=::..:.......                    
                //                                   ....*##******############%%=....=:...:.......                    
                //                                   .....*%##*###########%%%%%*.....=:...:.......                    
                //                                    .....:+%%%#%%%%%%%%%%%%%-......=-::.:-++==-:......              
                //                                    .........-+*#%%%%%##+:.........:+-::::-=#%#%%#=...              
                //                                       .........................-*%##*+=====*#######-.....          
                //                                                      .......+%####################%#.....          
                //                                            ......    .....=####*###################%:....          
                //                                                      ....+#******###################:....          
                //                                                      ....#***+++***##############%%+.....          
                //                                                      ....##***+*******#########%#%=......          
                //                                                      ....-%##*********#########%+...               
                //                                                      ......*%%####*########%%%#:....               
                //                                                      ........-#@%%%####%%%%%=.......               
                //                                                             .......:--::.......                     
        }
    }
}
